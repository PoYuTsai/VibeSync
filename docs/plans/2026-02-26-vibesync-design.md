# VibeSync è¨­è¨ˆè¦æ ¼æ›¸

**å°ˆæ¡ˆåç¨±**: VibeSync é »ç‡èª¿æ ¡å¸«
**ç‰ˆæœ¬**: 1.1
**æ—¥æœŸ**: 2026-02-27
**ç‹€æ…‹**: è¨­è¨ˆå®Œæˆï¼Œå¾…å¯¦ä½œ

---

## æ ¸å¿ƒå®šä½

| é …ç›® | å…§å®¹ |
|------|------|
| **ç”¢å“åç¨±** | VibeSync é »ç‡èª¿æ ¡å¸« |
| **ä¸€å¥è©±å®šä½** | ç¤¾äº¤æºé€šæ•™ç·´ App |
| **ç›®æ¨™ç”¨æˆ¶** | 20-35 æ­²ï¼Œé¡˜æ„æŠ•è³‡è‡ªæˆ‘æå‡çš„å€‹äººç”¨æˆ¶ |
| **æ ¸å¿ƒç›®æ¨™** | å¹«åŠ©ç”¨æˆ¶æˆåŠŸé‚€ç´„ï¼ˆé è¨­ï¼‰ï¼Œå¯è‡ªè¨‚å…¶ä»–ç›®æ¨™ |
| **å“²å­¸** | æ¡†æ¶ç­–ç•¥ç‚ºè¼” â†’ æœ€çµ‚å›æ­¸ã€Œå€‹äººåŒ– + çœŸèª æµã€ |
| **æœå‹™ç¯„åœ** | æ–‡å­—å°è©±è¼”åŠ© â†’ ç¢ºèªé‚€ç´„ï¼ˆç´„æœƒç•¶å¤©ä¸åœ¨ç¯„åœå…§ï¼‰ |

### ç”¢å“ç†å¿µ

> **æˆ‘å€‘çš„ Know-How**ï¼šä¸æ˜¯æ•™ç”¨æˆ¶è®Šæˆå¦ä¸€å€‹äººï¼Œè€Œæ˜¯ç”¨å°ˆæ¥­æ¡†æ¶å¹«åŠ©ä»–å€‘æ›´æœ‰æ•ˆåœ°å±•ç¾çœŸå¯¦è‡ªæˆ‘ã€‚
>
> **æœ€çµ‚ç›®æ¨™**ï¼šè¼¸å‡ºè¦åƒäººèªªçš„è©±ï¼Œä¸èƒ½å¤ª AI å‘³ã€‚è¦‹é¢æ™‚ç”¨æˆ¶è¦èƒ½è‡ªç„¶è¡¨ç¾ã€‚

---

## 1. ç³»çµ±æ¶æ§‹ (System Architecture)

### 1.1 æ•´é«”æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Flutter App                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   UI Layer  â”‚  â”‚   Domain    â”‚  â”‚     Data Layer      â”‚  â”‚
â”‚  â”‚  (Riverpod) â”‚  â”‚   Layer     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚  â”‚  Hive (Local) â”‚  â”‚  â”‚
â”‚  â”‚  - Screens  â”‚  â”‚  - UseCases â”‚  â”‚  â”‚  AES-256åŠ å¯†   â”‚  â”‚  â”‚
â”‚  â”‚  - Widgets  â”‚  â”‚  - Entities â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Supabase                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Auth     â”‚  â”‚  PostgreSQL  â”‚  â”‚  Edge Functions  â”‚   â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                  â”‚   â”‚
â”‚  â”‚ Google/Apple â”‚  â”‚ - users      â”‚  â”‚ - analyze-chat   â”‚   â”‚
â”‚  â”‚ Email OTP    â”‚  â”‚ - subs       â”‚  â”‚ - generate-reply â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼               â–¼               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Claude  â”‚    â”‚ RevenueCatâ”‚   â”‚  Sentry      â”‚
       â”‚   API    â”‚    â”‚           â”‚   â”‚ (Monitoring) â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒå…ƒä»¶

| å…ƒä»¶ | æŠ€è¡“ | è·è²¬ |
|------|------|------|
| Mobile App | Flutter 3.x + Riverpod | UIã€æœ¬åœ°å„²å­˜ã€ç‹€æ…‹ç®¡ç† |
| Auth | Supabase Auth | èº«ä»½é©—è­‰ (Google/Apple/Email OTP) |
| Database | PostgreSQL | ç”¨æˆ¶è³‡æ–™ã€è¨‚é–±ç‹€æ…‹ |
| AI Gateway | Edge Functions | è«‹æ±‚è·¯ç”±ã€æ¨¡å‹é¸æ“‡ã€å®‰å…¨é©—è­‰ |
| AI Engine | Claude API | ç†±åº¦åˆ†æã€å›è¦†ç”Ÿæˆ |
| Subscription | RevenueCat | è¨‚é–±ç®¡ç†ã€æ”¶æ“šé©—è­‰ |

### 1.3 æŠ€è¡“é¸å‹ç†ç”±

- **Flutter**: ä¸€å¥—ç¨‹å¼ç¢¼æ”¯æ´ iOS/Androidï¼Œé–‹ç™¼æ•ˆç‡é«˜
- **Supabase**: é–‹æº Firebase æ›¿ä»£æ–¹æ¡ˆï¼ŒPostgreSQL åº•å±¤æ›´éˆæ´»
- **Edge Functions**: Serverlessï¼ŒæŒ‰ä½¿ç”¨é‡è¨ˆè²»ï¼Œè‡ªå‹•æ“´å±•
- **RevenueCat**: App Store/Play Store è¨‚é–±æ•´åˆæ¨™æº–æ–¹æ¡ˆ
- **Hive**: Flutter åŸç”Ÿ NoSQLï¼Œæ•ˆèƒ½å„ªæ–¼ SQLite

---

## 2. è³‡æ–™æ¨¡å‹ (Data Model)

### 2.1 æœ¬åœ°å„²å­˜ (Hive)

```dart
@HiveType(typeId: 0)
class Conversation extends HiveObject {
  @HiveField(0)
  late String id;

  @HiveField(1)
  late String name;          // å°è©±å°è±¡åç¨±

  @HiveField(2)
  late String? avatarPath;   // æœ¬åœ°åœ–ç‰‡è·¯å¾‘

  @HiveField(3)
  late List<Message> messages;

  @HiveField(4)
  late DateTime createdAt;

  @HiveField(5)
  late DateTime updatedAt;
}

@HiveType(typeId: 1)
class Message extends HiveObject {
  @HiveField(0)
  late String id;

  @HiveField(1)
  late String content;       // è¨Šæ¯å…§å®¹

  @HiveField(2)
  late bool isFromMe;        // æ˜¯å¦ç‚ºç”¨æˆ¶ç™¼é€

  @HiveField(3)
  late DateTime timestamp;

  @HiveField(4)
  late int? enthusiasmScore; // ç†±åº¦åˆ†æ•¸ (0-100)

  @HiveField(5)
  late List<String>? suggestedReplies; // AI å»ºè­°å›è¦†
}
```

### 2.2 é›²ç«¯å„²å­˜ (PostgreSQL)

```sql
-- ç”¨æˆ¶è³‡æ–™è¡¨
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email TEXT UNIQUE NOT NULL,
  display_name TEXT,
  avatar_url TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  last_login_at TIMESTAMPTZ,

  -- çµ±è¨ˆè³‡æ–™
  total_analyses INTEGER DEFAULT 0,
  total_conversations INTEGER DEFAULT 0
);

-- è¨‚é–±ç‹€æ…‹è¡¨
CREATE TABLE subscriptions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  tier TEXT NOT NULL CHECK (tier IN ('free', 'starter', 'essential')),
  status TEXT NOT NULL CHECK (status IN ('active', 'expired', 'cancelled')),

  -- RevenueCat æ•´åˆ
  rc_customer_id TEXT,
  rc_entitlement_id TEXT,

  -- ä½¿ç”¨é‡è¿½è¹¤
  monthly_analyses_used INTEGER DEFAULT 0,
  monthly_reset_at TIMESTAMPTZ,

  started_at TIMESTAMPTZ DEFAULT NOW(),
  expires_at TIMESTAMPTZ,

  UNIQUE(user_id)
);

-- RLS æ”¿ç­–ï¼šç”¨æˆ¶åªèƒ½å­˜å–è‡ªå·±çš„è³‡æ–™
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE subscriptions ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own data" ON users
  FOR SELECT USING (auth.uid() = id);

CREATE POLICY "Users can view own subscription" ON subscriptions
  FOR SELECT USING (auth.uid() = user_id);
```

### 2.3 è³‡æ–™æµå‘

```
ç”¨æˆ¶è¼¸å…¥å°è©± â†’ æœ¬åœ°åŠ å¯†å„²å­˜ (Hive)
                    â†“
            ç™¼é€è‡³ Edge Function
                    â†“
            Claude API åˆ†æ (ä¸å„²å­˜)
                    â†“
            è¿”å›çµæœçµ¦ App
                    â†“
            çµæœå­˜å…¥æœ¬åœ° Hive
```

**é—œéµåŸå‰‡**: å°è©±å…§å®¹ **æ°¸ä¸** å„²å­˜æ–¼ä¼ºæœå™¨

---

## 3. GAME æ¡†æ¶ (Core Know-How)

> **é€™æ˜¯æˆ‘å€‘çš„æ ¸å¿ƒç«¶çˆ­åŠ›**ï¼Œæ‰€æœ‰ AI åˆ†æéƒ½åŸºæ–¼é€™å€‹æ¡†æ¶ã€‚

### 3.1 GAME æµç¨‹äº”éšæ®µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GAME æµç¨‹                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  1. æ‰“é–‹ (Opening)      â†’ ç ´å†°                          â”‚
â”‚          â†“                                              â”‚
â”‚  2. å‰æ (Premise)      â†’ é€²å…¥ç”·å¥³æ¡†æ¶                  â”‚
â”‚          â†“                                              â”‚
â”‚  3. è©•ä¼° (Qualification) â†’ å¥¹è­‰æ˜è‡ªå·±é…å¾—ä¸Šä½            â”‚
â”‚          â†“                                              â”‚
â”‚  4. æ•˜äº‹ (Narrative)    â†’ å€‹æ€§æ¨£æœ¬ã€èªªæ•…äº‹              â”‚
â”‚          â†“                                              â”‚
â”‚  5. æ”¶å°¾ (Close)        â†’ æ¨¡ç³Šé‚€ç´„ â†’ ç¢ºç«‹é‚€ç´„ âœ“         â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å„éšæ®µè©³è§£

#### éšæ®µ 1: æ‰“é–‹ (Opening)
- **æ–‡å­—**ï¼šç ´å†°ï¼Œé–‹å•Ÿå°è©±
- **æ­è¨•**ï¼š1 åˆ†é˜ç ´é˜²
- **é‡é»**ï¼š90% æ˜¯æ…‹åº¦ï¼Œå…§å®¹ä¸é‡è¦

#### éšæ®µ 2: å‰æ (Premise)
- **ç›®çš„**ï¼šé€²å…¥ã€Œç”·å¥³æ¡†æ¶ã€ï¼Œå»ºç«‹å¼µåŠ›
- **å•é¡Œ**ï¼šå¤ªé–’èŠ = æœ‹å‹æ¡† = æ²’æœ‰æ©Ÿæœƒ
- **æ™‚æ©Ÿ**ï¼šå¤ªæ—©çªå…€ï¼Œå¤ªæ™šè®Šæœ‹å‹

#### éšæ®µ 3: è©•ä¼° (Qualification)
- **æ ¸å¿ƒ**ï¼šä½ åœ¨ç¯©é¸å¥¹ï¼Œä¸æ˜¯å¥¹åœ¨ç¯©é¸ä½ 
- **å¿ƒç†å­¸**ï¼šå¥¹è¦è­‰æ˜è‡ªå·±é…å¾—ä¸Šä½ 
- **å‰æ**ï¼šä½ çš„æ¡†æ¶è¦å…ˆç©©ä½
- **å¸¸è¦‹å•é¡Œ**ï¼šç¼ºä¹ã€Œé…å¾—æ„Ÿã€ï¼Œé‡åˆ°æ­£å¦¹å°±å¿½ç•¥å¥¹çš„ç¼ºé»

#### éšæ®µ 4: æ•˜äº‹ (Narrative)
- **ç›®çš„**ï¼šå‚³é”ã€Œå€‹æ€§æ¨£æœ¬ã€
- **å…§å®¹**ï¼šç”Ÿæ´»æ¨¡å¼ã€æ¡†æ¶ã€çœ‹ä¸–ç•Œçš„è§’åº¦ã€æ˜ç¢ºå–œå¥½
- **æ–¹å¼**ï¼šç°¡å–®å¸¶éï¼Œä¸å¤§ä½œæ–‡ç« ï¼Œä¸èªªæ•™
- **ä¾‹å¤–**ï¼šå¥¹å¾ˆç†±æƒ…æ™‚ï¼Œå¯ä»¥å¤šæ‹‹é‰¤å­

#### éšæ®µ 5: æ”¶å°¾ (Close)
- **æ¨¡ç³Šé‚€ç´„**ï¼šã€Œæ”¹å¤©ä¸€èµ·å–å’–å•¡ã€
- **ç¢ºç«‹é‚€ç´„**ï¼šã€Œé€±å…­ä¸‹åˆï¼Œä¿¡ç¾©å€é‚£é–“ï¼Ÿã€
- **å¸¸è¦‹éŒ¯èª¤**ï¼šåˆ°æœ€å¾Œä¸€æ­¥æ‰­æ‰­ææ
- **æ­£ç¢ºåšæ³•**ï¼šæ™‚é–“æ•²å®šã€åœ°é»æ•²å®šï¼Œä¸è¦çŒ¶è±«

### 3.3 æ ¸å¿ƒæŠ€å·§

#### éš±æ€§åƒ¹å€¼å±•ç¤º (Subtle DHV)

```
âŒ ç›´æ¥èªªï¼šã€Œæˆ‘å¾ˆå¸¸å‡ºåœ‹ã€
âœ… æ·ºå¸¶éï¼šã€Œå‰›å¾åŒ—äº¬å‡ºå·®å›ä¾†ã€

ä¸€å¥è©±å‚³é”ï¼š
â”œâ”€ å¸¸é£› (é »ç‡)
â”œâ”€ å‡ºå·® (æœ‰äº‹æ¥­)
â”œâ”€ åŒ—äº¬é¦–éƒ½ (é‡è¦æ¥­å‹™)
â””â”€ å¹³é‹ªç›´æ•˜ (é€™å°æˆ‘å¾ˆæ­£å¸¸ï¼Œæ²’ä»€éº¼)
```

#### æ¡†æ¶æ§åˆ¶ (Frame)

```
ä½ çš„æ¡†æ¶ = ä½ çš„äººè¨­
â”œâ”€ ä¸å› å°æ–¹æ”»æ“Š/æŒ‘é‡/å»¢æ¸¬è€Œæ”¹è®Š
â”œâ”€ ä¸ç”¨é»å°é»å›ç­”å¥¹çš„å•é¡Œ
â”œâ”€ å¯ä»¥è·³å‡ºå¥¹å•é¡Œçš„æ¡†æ¶æ€è€ƒ
â””â”€ ç¶­æŒä¸€è‡´æ€§ = é«˜åƒ¹å€¼è­‰æ˜
```

#### å»¢ç‰©æ¸¬è©¦ (Shit Test)

| é—œéµ | èªªæ˜ |
|------|------|
| **æ…‹åº¦** | å»¢æ¸¬æ˜¯å¥½äº‹ï¼Œä»£è¡¨å¥¹åœ¨è©•ä¼°ä½  |
| **æ©¡è† çƒç†è«–** | è®“å®ƒå½ˆé–‹ï¼Œä¸ç”¨èªçœŸå›æ‡‰ |
| **å›æ‡‰æ–¹å¼** | å¹½é»˜æ›²è§£ / ç›´çƒä½†ç¶­æŒæ¡†æ¶ / å¿½ç•¥ |
| **æ²’æœ‰æ­£ç¢ºç­”æ¡ˆ** | é‡é»æ˜¯æ…‹åº¦ï¼Œä¸æ˜¯å…§å®¹ |

#### æ·ºæºé€šè§£è®€

```
å¥³ç”Ÿæ–‡å­—èƒŒå¾Œçš„æ„æ€ > å­—é¢æ„æ€
â”œâ”€ ä¸€è‡´æ€§æ¸¬è©¦è—åœ¨æ–‡å­—è£¡
â”œâ”€ AI è¦å¹«å¿™è§£è®€é€™å±¤
â””â”€ å‘Šè¨´ç”¨æˆ¶ï¼šå¥¹å¯èƒ½åœ¨æ¸¬è©¦ä½ 
```

### 3.4 å›è¦†å„ªå…ˆé †åº

```
1. æœ‰åœ–ç‰‡å…ˆå›åœ–ç‰‡ â†’ å°åœ–ç‰‡çš„æ„Ÿå—
2. å°åœ–ç‰‡æå‡ºç–‘å•
3. ç„¡é—œç·Šè¦çš„é™³è¿°å¥
4. å›æ‡‰é‡é»è¨Šæ¯
5. é™³è¿°å¥å„ªæ–¼å•å¥ï¼ˆæœ‹å‹é–“ç›´æ¥å•å¥æ¯”è¼ƒå°‘ï¼Œå°è©±æ›´è‡ªç„¶ï¼‰
```

### 3.5 å†°é»ç­–ç•¥

```
ç•¶ç†±åº¦ 0-30 ä¸” AI åˆ¤æ–·æ©Ÿæœƒæ¸ºèŒ«ï¼š
â”œâ”€ ä¸ç¡¬å›
â”œâ”€ å¯å»ºè­°ã€Œå·²è®€ä¸å›ã€
â”œâ”€ é¼“å‹µï¼šã€Œé–‹æ–°å°è©±ï¼ŒèŠèŠå…¶ä»–å°è±¡å§ã€
â””â”€ è§£é‡‹ï¼šç‚ºä»€éº¼é€™æ¨£åˆ¤æ–·
```

---

## 4. AI åˆ†æå¼•æ“ (AI Analysis Engine)

### 4.1 æ ¸å¿ƒå“²å­¸

#### 1.8x é»ƒé‡‘æ³•å‰‡ (The Golden Rule)

```
å›è¦†å­—æ•¸ â‰¤ å°æ–¹æœ€å¾Œä¸€å‰‡è¨Šæ¯å­—æ•¸ Ã— 1.8
```

é€™æ˜¯æœ€é«˜æŒ‡å°åŸå‰‡ï¼Œæ‰€æœ‰å»ºè­°å›è¦†éƒ½å¿…é ˆéµå®ˆã€‚

**ç†ç”±**:
- ç¶­æŒå°è©±å¹³è¡¡æ„Ÿ
- é¿å…éåº¦æŠ•å…¥ (Over-investing)
- å±•ç¾å¾å®¹ä¸è¿«çš„æ…‹åº¦
- ç¬¦åˆã€Œé«˜åƒ¹å€¼ã€å°è©±æ¨¡å¼

### 4.2 ç†±åº¦é‡è¡¨ (Enthusiasm Gauge)

| åˆ†æ•¸ç¯„åœ | ç­‰ç´šåç¨± | è¦–è¦ºæ¨™ç¤º | å»ºè­°ç­–ç•¥ |
|----------|----------|----------|----------|
| 0-30 | å†°é» | â„ï¸ è—è‰² | é¡åƒå†·è™•ç†ã€é©åº¦æŠ½é›¢ã€ç­‰å¾…æ™‚æ©Ÿ |
| 31-60 | æº«å’Œ | ğŸŒ¤ï¸ é»ƒè‰² | å¼•å°å¼æå•ã€æ‹‹å‡ºæœ‰è¶£è©±é¡Œã€DHV |
| 61-80 | ç†±æƒ… | ğŸ”¥ æ©˜è‰² | 80% é¡åƒã€ä¿æŒæ²‰ç©©ã€é©åº¦æ¨é€² |
| 81-100 | é«˜ç†± | ğŸ’– ç²‰ç´… | æ¨æ‹‰æŠ€å·§ã€é©åº¦æŒ‘æˆ°ã€å»ºç«‹æ¡†æ¶ |

### 4.3 ç†±åº¦åˆ†ææŒ‡æ¨™

```typescript
interface EnthusiasmAnalysis {
  score: number;           // 0-100
  level: 'cold' | 'warm' | 'hot' | 'very_hot';

  indicators: {
    responseSpeed: number;      // å›è¦†é€Ÿåº¦ (å·²ç§»é™¤ï¼Œç”¨æˆ¶åé¥‹ä¸»è§€)
    messageLength: number;      // è¨Šæ¯é•·åº¦æ¯”ä¾‹
    questionAsking: boolean;    // æ˜¯å¦ä¸»å‹•æå•
    emojiUsage: number;         // emoji ä½¿ç”¨é »ç‡
    initiationRatio: number;    // ä¸»å‹•ç™¼è¨Šæ¯”ä¾‹
    topicEngagement: number;    // è©±é¡Œåƒèˆ‡åº¦
  };

  warnings: NeedyWarning[];     // Needy è­¦ç¤º
}

interface NeedyWarning {
  type: 'double_text' | 'over_invest' | 'seeking_validation' | 'too_available';
  message: string;
  suggestion: string;
}
```

### 4.4 äº”ç¨®å›è¦†é¡å‹

| é¡å‹ | ä¸­æ–‡å | æŠ€å·§ | ç”¨é€” | ç¯„ä¾‹ |
|------|--------|------|------|------|
| Extend | ğŸ”„ å»¶å±• | ç´°ç·»åŒ–æ·±æŒ– | å»¶çºŒè©±é¡Œã€æŒ–æ˜æ·±åº¦ | ã€Œå“ªç¨®è¾£ï¼Ÿç‚ºä»€éº¼å–œæ­¡è¢«é›»åˆ°çš„æ„Ÿè¦ºï¼Ÿã€ |
| Resonate | ğŸ’¬ å…±é³´ | æƒ…æ„Ÿé€£çµ | åŒç†å¿ƒã€è®“å°æ–¹è¦ºå¾—è¢«æ‡‚ | ã€Œæˆ‘æ‡‚é‚£ç¨®ç´¯åˆ°åªæƒ³èººè‘—çš„æ„Ÿè¦ºã€ |
| Tease | ğŸ˜ èª¿æƒ… | æ¨æ‹‰åå·® | è¼•é¬†ç©ç¬‘ã€å»ºç«‹å¼µåŠ› | ã€Œä½ é«”åŠ›ä¹Ÿå¤ªå·®äº†å§...ä¸éè¾›è‹¦äº†ã€ |
| Humor | ğŸ­ å¹½é»˜ | æ›²è§£/èª‡å¤§ | æ‰“ç ´åƒµå±€ã€å¢åŠ è¶£å‘³ | ã€ŒåŠ ç­åˆ°é€™éº¼æ™šï¼Œæ˜¯åœ¨æ‹¯æ•‘åœ°çƒå—ï¼Ÿã€ |
| ColdRead | ğŸ”® å†·è®€ | å‡è¨­ä»£æ›¿å•å¥ | é¿å…é¢è©¦æ„Ÿã€å±•ç¾æ´å¯Ÿ | ã€Œä½ ä¸€å®šæ˜¯é‚£ç¨®é€±æœ«æœƒå»çˆ¬å±±çš„äººã€ |

### 4.5 è©±é¡Œæ·±åº¦éšæ¢¯

```
Level 1: äº‹ä»¶å°å‘ (Facts)
â”œâ”€ èŠç™¼ç”Ÿçš„äº‹ã€å®¢è§€è³‡è¨Š
â”œâ”€ ä¾‹ï¼šã€Œä»Šå¤©åƒäº†ä»€éº¼ã€ã€Œå»å“ªç©ã€
â””â”€ é©åˆï¼šå‰›èªè­˜ã€ç ´å†°éšæ®µ

Level 2: å€‹äººå°å‘ (Personal)
â”œâ”€ èŠæƒ³æ³•ã€æ„Ÿå—ã€åƒ¹å€¼è§€
â”œâ”€ ä¾‹ï¼šã€Œç‚ºä»€éº¼å–œæ­¡é€™å€‹ã€ã€Œä»€éº¼æ™‚å€™æœ€é–‹å¿ƒã€
â””â”€ é©åˆï¼šæœ‰åŸºæœ¬èªè­˜å¾Œ

Level 3: æ›–æ˜§å°å‘ (Intimate)
â”œâ”€ èŠå½¼æ­¤ã€é—œä¿‚ã€æœªä¾†
â”œâ”€ ä¾‹ï¼šã€Œæˆ‘å€‘ä¸‹æ¬¡...ã€ã€Œä½ è®“æˆ‘è¦ºå¾—...ã€
â””â”€ é©åˆï¼šç†±åº¦ > 60ï¼Œé—œä¿‚å‡æº«ä¸­
```

**é‡è¦åŸå‰‡ï¼šä¸å¯è¶Šç´š**
- é‚„åœ¨ Level 1 å°±è·³åˆ° Level 3 = å¤ªæ€¥èº
- AI æœƒåµæ¸¬ä¸¦è­¦å‘Š

### 4.6 å°è©±å¥æª¢åŠŸèƒ½ (Essential å°ˆå±¬)

åˆ†æå°è©±å•é¡Œä¸¦çµ¦å‡ºä¿®æ­£å»ºè­°ï¼š

| æª¢æ¸¬é …ç›® | å•é¡Œæè¿° | ä¿®æ­£å»ºè­° |
|----------|----------|----------|
| é¢è©¦å¼æå• | é€£çºŒå• 3+ å€‹å•é¡Œ | ç”¨å‡è¨­ä»£æ›¿ï¼šã€Œæ„Ÿè¦ºä½ æ˜¯åšå‰µæ„ç›¸é—œçš„ï¼Ÿã€ |
| è©±é¡Œè·³ tone | æ²’éæ¸¡å°±æ›è©±é¡Œ | å…ˆç´°ç·»åŒ–ç•¶å‰è©±é¡Œå†è½‰ç§» |
| ç´¢å– > æä¾› | å•å¤ªå¤šã€åˆ†äº«å¤ªå°‘ | å¤šèªªæ•…äº‹ã€å°‘å•å•é¡Œ (82/18 åŸå‰‡) |
| æ·±åº¦è¶Šç´š | é—œä¿‚ä¸ç†Ÿå°±èŠæ›–æ˜§ | é€€å›å€‹äººå°å‘ï¼Œå¾ªåºæ¼¸é€² |
| å›è¦†éé•· | é•å 1.8x æ³•å‰‡ | ç²¾ç°¡å…§å®¹ï¼Œä¿æŒç¥ç§˜æ„Ÿ |

### 4.7 AI Prompt çµæ§‹

```typescript
const systemPrompt = `
ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„ç¤¾äº¤æºé€šæ•™ç·´ï¼Œå¹«åŠ©ç”¨æˆ¶æå‡å°è©±æŠ€å·§ã€‚

## æœ€é«˜æŒ‡å°åŸå‰‡

### 1. 1.8x é»ƒé‡‘æ³•å‰‡
æ‰€æœ‰å»ºè­°å›è¦†çš„å­—æ•¸å¿…é ˆ â‰¤ å°æ–¹æœ€å¾Œè¨Šæ¯å­—æ•¸ Ã— 1.8
é€™æ¢è¦å‰‡ä¸å¯é•åã€‚

### 2. 82/18 åŸå‰‡
å¥½çš„å°è©±æ˜¯ 82% è†è½ + 18% èªªè©±
- ç”¨æˆ¶ä¸è©²ä¸€ç›´å•å•é¡Œ (ç´¢å–)
- è¦é©æ™‚åˆ†äº«æ•…äº‹ (æä¾›)

### 3. å‡è¨­ä»£æ›¿å•å¥
- âŒ ã€Œä½ æ˜¯åšä»€éº¼å·¥ä½œçš„ï¼Ÿã€(é¢è©¦æ„Ÿ)
- âœ… ã€Œæ„Ÿè¦ºä½ æ˜¯åšå‰µæ„ç›¸é—œçš„å·¥ä½œï¼Ÿã€(å†·è®€)

### 4. è©±é¡Œæ·±åº¦éšæ¢¯
- Level 1: äº‹ä»¶å°å‘ (Facts) - å‰›èªè­˜
- Level 2: å€‹äººå°å‘ (Personal) - æœ‰åŸºæœ¬èªè­˜
- Level 3: æ›–æ˜§å°å‘ (Intimate) - ç†±åº¦ > 60
- åŸå‰‡ï¼šä¸å¯è¶Šç´šï¼Œå¾ªåºæ¼¸é€²

### 5. ç´°ç·»åŒ–å„ªå…ˆ
- ä¸è¦ä¸€ç›´æ›è©±é¡Œ
- é‡å°å°æ–¹å›ç­”æ·±å…¥æŒ–æ˜
- ä¾‹ï¼šå–œæ­¡éº»è¾£é‹ â†’ å–œæ­¡å“ªç¨®è¾£ï¼Ÿç‚ºä»€éº¼ï¼Ÿ

## ç†±åº¦åˆ†ææ¨™æº–
æ ¹æ“šä»¥ä¸‹æŒ‡æ¨™è©•ä¼°å°è©±ç†±åº¦ (0-100):
- è¨Šæ¯é•·åº¦è®ŠåŒ–
- æ˜¯å¦ä¸»å‹•æå•
- Emoji ä½¿ç”¨é »ç‡
- è©±é¡Œåƒèˆ‡æ·±åº¦
- ä¸»å‹•ç™¼èµ·å°è©±æ¯”ä¾‹

## å›è¦†ç”Ÿæˆè¦å‰‡
1. æ¯æ¬¡æä¾› 5 ç¨®å›è¦†ï¼šå»¶å±•ã€å…±é³´ã€èª¿æƒ…ã€å¹½é»˜ã€å†·è®€
2. æ ¹æ“šç†±åº¦ç­‰ç´šå’Œè©±é¡Œæ·±åº¦èª¿æ•´ç­–ç•¥
3. å¹½é»˜æŠ€å·§ï¼šæ›²è§£ã€èª‡å¤§ã€æ¨æ‹‰ (å…ˆé–‹ç©ç¬‘å†æ­£ç¶“)
4. é¿å… Needy è¡Œç‚ºï¼š
   - é€£çºŒç™¼é€å¤šå‰‡è¨Šæ¯
   - éåº¦è§£é‡‹æˆ–é“æ­‰
   - å°‹æ±‚èªå¯çš„èªæ°£
   - ç§’å›æˆ–éåº¦ç©æ¥µ
   - é€£çºŒå• 3+ å€‹å•é¡Œ

## è¼¸å‡ºæ ¼å¼
{
  "gameStage": {
    "current": "premise",  // opening | premise | qualification | narrative | close
    "status": "æ­£å¸¸é€²è¡Œ",  // æ­£å¸¸é€²è¡Œ | å¡åœ¨æœ‹å‹æ¡† | å¯ä»¥æ¨é€²
    "nextStep": "å¯ä»¥é–‹å§‹è©•ä¼°éšæ®µ"
  },
  "enthusiasm": {
    "score": 75,
    "level": "hot"
  },
  "topicDepth": {
    "current": "personal",
    "suggestion": "å¯ä»¥å¾€æ›–æ˜§å°å‘æ¨é€²"
  },
  "psychology": {
    "subtext": "å¥¹é€™å¥è©±èƒŒå¾Œçš„æ„æ€æ˜¯ï¼šå°ä½ æœ‰èˆˆè¶£ï¼Œæƒ³çŸ¥é“æ›´å¤š",
    "shitTest": {
      "detected": false,
      "type": null,
      "suggestion": null
    },
    "qualificationSignal": true  // å¥¹æœ‰åœ¨è­‰æ˜è‡ªå·±
  },
  "replies": {
    "extend": "...",
    "resonate": "...",
    "tease": "...",
    "humor": "...",
    "coldRead": "..."
  },
  "finalRecommendation": {
    "pick": "tease",
    "content": "è½èµ·ä¾†å¦³å¾ˆæœƒæŒ‘åœ°æ–¹å˜›ï¼Œæ”¹å¤©å¸¶è·¯ï¼Ÿ",
    "reason": "ç›®å‰ç†±åº¦è¶³å¤ ï¼Œå¯ä»¥ç”¨æ¨æ‹‰å»ºç«‹å¼µåŠ›ï¼ŒåŒæ™‚åŸ‹ä¸‹é‚€ç´„ä¼ç­†",
    "psychology": "å¥¹ä¸»å‹•åˆ†äº«ä»£è¡¨å°ä½ æœ‰èˆˆè¶£ï¼Œé€™æ™‚å€™ç”¨èª¿æƒ…å›æ‡‰èƒ½å‡æº«"
  },
  "warnings": [],
  "healthCheck": {
    "issues": ["é¢è©¦å¼æå•éå¤š"],
    "suggestions": ["ç”¨å‡è¨­ä»£æ›¿å•å¥"]
  },
  "strategy": "ç°¡çŸ­ç­–ç•¥èªªæ˜",
  "reminder": "è¨˜å¾—ç”¨ä½ çš„æ–¹å¼èªªï¼Œè¦‹é¢æ‰è‡ªç„¶"
}
`;
```

### 4.8 ä¿šèª/æ™‚äº‹æ¢—è™•ç†

```
è™•ç†ç­–ç•¥ï¼š90% AI åæ¨ + 10% å•ç”¨æˆ¶

æƒ…æ³ 1: AI èƒ½ç†è§£
â”œâ”€ æ­£å¸¸åˆ†æ
â””â”€ ä¸æ‰“æ“¾ç”¨æˆ¶

æƒ…æ³ 2: AI ä¸ç¢ºå®š
â”œâ”€ å˜—è©¦å¾ä¸Šä¸‹æ–‡æ¨æ¸¬
â”œâ”€ çµ¦å‡ºåˆ†æä½†æ¨™è¨»ã€Œä¸ç¢ºå®šã€
â””â”€ æä¾›ã€Œé»æ“Šèªªæ˜ã€é¸é …

æƒ…æ³ 3: å®Œå…¨ä¸æ‡‚
â”œâ”€ è©¢å•ç”¨æˆ¶ï¼šã€Œé€™å¥è©±çš„æ„æ€æ˜¯...ï¼Ÿã€
â””â”€ ç”¨æˆ¶è§£é‡‹å¾Œæ›´æ–°ç†è§£
```

### 4.9 æ··åˆæ¨¡å‹ç­–ç•¥

```typescript
function selectModel(context: AnalysisContext): 'haiku' | 'sonnet' {
  // ä½¿ç”¨ Sonnet çš„æƒ…æ³ (30%)
  if (
    context.conversationLength > 20 ||      // é•·å°è©±
    context.enthusiasmLevel === 'cold' ||   // å†·æ·¡éœ€è¦ç­–ç•¥
    context.hasComplexEmotions ||           // è¤‡é›œæƒ…ç·’
    context.isFirstAnalysis                 // é¦–æ¬¡åˆ†æå»ºç«‹åŸºæº–
  ) {
    return 'sonnet';
  }

  // é è¨­ä½¿ç”¨ Haiku (70%)
  return 'haiku';
}
```

---

## 5. UI/UX è¨­è¨ˆ (User Interface)

### 5.0 è¨­è¨ˆé¢¨æ ¼ï¼šé«˜ç«¯æ¥µç°¡

> **æ ¸å¿ƒç†å¿µ**ï¼šå¤§é‡ç•™ç™½ã€ç²¾ç·»å‹•ç•«ã€å­—é«”å±¤æ¬¡æ˜ç¢ºï¼ˆé¡ä¼¼ Apple å®˜ç¶²é¢¨æ ¼ï¼‰

| å…ƒç´  | è¨­è¨ˆåŸå‰‡ |
|------|----------|
| **ç•™ç™½** | å…ƒç´ é–“ä¿æŒè¶³å¤ å‘¼å¸ç©ºé–“ï¼Œä¸æ“æ“  |
| **å‹•ç•«** | å¾®äº¤äº’ã€éå ´å‹•ç•«æµæš¢è‡ªç„¶ |
| **å­—é«”** | å±¤æ¬¡åˆ†æ˜ï¼šæ¨™é¡Œ/æ­£æ–‡/èªªæ˜ å¤§å°å°æ¯” |
| **è‰²å½©** | æ·±è‰²åº• + é‡é»è‰²é»ç¶´ï¼Œä¸èŠ±ä¿ |
| **å¡ç‰‡** | åœ“è§’ã€è¼•å¾®é™°å½±ã€æ‡¸æµ®æ„Ÿ |

### 5.1 æ ¸å¿ƒç•«é¢

#### ç•«é¢ 1: å°è©±åˆ—è¡¨ (Home)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VibeSync          [+æ–°å¢]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœå°‹å°è©±...              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”                      â”‚
â”‚  â”‚ ğŸ‘¤â”‚ å°ç¾        æ˜¨å¤© 23:14â”‚
â”‚  â””â”€â”€â”€â”˜ ç†±åº¦: ğŸ”¥ 72          â”‚
â”‚        æœ€å¾Œï¼šå“ˆå“ˆå¥½å•Šï½      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”                      â”‚
â”‚  â”‚ ğŸ‘¤â”‚ Amy         å‰å¤©     â”‚
â”‚  â””â”€â”€â”€â”˜ ç†±åº¦: â„ï¸ 28          â”‚
â”‚        æœ€å¾Œï¼šå—¯              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚      [ å‡ç´šæ–¹æ¡ˆè§£é–æ›´å¤š ]    â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç•«é¢ 2: å°è©±åˆ†æ (Analysis)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† å°ç¾           [åˆ†æä¸­...]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å¥¹: é€±æœ«æœ‰ä»€éº¼è¨ˆç•«å—ï¼Ÿ   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ æˆ‘: å¯èƒ½å»çˆ¬å±±ï¼Œå¦³å‘¢ï¼Ÿ   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å¥¹: å“‡å¡æˆ‘ä¹Ÿè¶…æ„›çˆ¬å±±çš„ï¼ â”‚â”‚
â”‚  â”‚     æœ€è¿‘å»äº†æŠ¹èŒ¶å±±è¶…ç¾ï½ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç†±åº¦åˆ†æ                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ğŸ”¥ 72/100  ç†±æƒ…        â”‚â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  ğŸ’¡ ç­–ç•¥ï¼šå¥¹æœ‰èˆˆè¶£ä¸”ä¸»å‹•åˆ†äº« â”‚
â”‚     ä¿æŒæ²‰ç©©ï¼Œ80%é¡åƒå³å¯   â”‚
â”‚                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å»ºè­°å›è¦† (å­—æ•¸ä¸Šé™: 32å­—)   â”‚
â”‚                             â”‚
â”‚  [å»¶å±•] æŠ¹èŒ¶å±±ä¸éŒ¯æ¬¸ï¼Œ        â”‚
â”‚        ä¸‹æ¬¡å¯ä»¥æŒ‘æˆ°æ›´é›£çš„    â”‚
â”‚                     [è¤‡è£½]  â”‚
â”‚                             â”‚
â”‚  [å…±é³´] æŠ¹èŒ¶å±±è¶…è®šï¼         â”‚
â”‚        ç…§ç‰‡ä¸€å®šå¾ˆç¾å§       â”‚
â”‚                     [è¤‡è£½]  â”‚
â”‚                             â”‚
â”‚  [èª¿æƒ…] è½èµ·ä¾†å¦³å¾ˆæœƒæŒ‘åœ°æ–¹å˜› â”‚
â”‚        æ”¹å¤©å¸¶è·¯ï¼Ÿ           â”‚
â”‚                     [è¤‡è£½]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç•«é¢ 3: æ–°å¢å°è©± (New Session)

> **é‡è¦**ï¼šä¸€å€‹å°è©± = ä¸€ä½èŠå¤©å°è±¡ï¼ˆåƒ ChatGPT çš„ sessionï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† æ–°å¢å°è©±                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  å°è©±å°è±¡æš±ç¨±                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å°ç¾                     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  èªè­˜å ´æ™¯                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [äº¤å‹è»Ÿé«” â–¼]             â”‚â”‚
â”‚  â”‚  â”œâ”€ äº¤å‹è»Ÿé«”             â”‚â”‚
â”‚  â”‚  â”œâ”€ ç¾å ´æ­è¨•             â”‚â”‚
â”‚  â”‚  â”œâ”€ æœ‹å‹ä»‹ç´¹             â”‚â”‚
â”‚  â”‚  â””â”€ å…¶ä»–                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  èªè­˜å¤šä¹…                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [å‰›èªè­˜ â–¼]               â”‚â”‚
â”‚  â”‚  â”œâ”€ å‰›èªè­˜               â”‚â”‚
â”‚  â”‚  â”œâ”€ å¹¾å¤©                 â”‚â”‚
â”‚  â”‚  â”œâ”€ å¹¾é€±                 â”‚â”‚
â”‚  â”‚  â””â”€ ä¸€å€‹æœˆ+              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  ä½ çš„ç›®æ¨™                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [ç´„å‡ºä¾† â–¼] (é è¨­)        â”‚â”‚
â”‚  â”‚  â”œâ”€ ç´„å‡ºä¾†               â”‚â”‚
â”‚  â”‚  â”œâ”€ ç¶­æŒç†±åº¦             â”‚â”‚
â”‚  â”‚  â””â”€ ç´”èŠå¤©               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚         [ ä¸‹ä¸€æ­¥ ]           â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç•«é¢ 4: è²¼ä¸Šå°è©± (Input)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† èˆ‡å°ç¾çš„å°è©±              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  è²¼ä¸Šå°è©±å…§å®¹                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å¥¹: ä½ å¥½                 â”‚â”‚
â”‚  â”‚ æˆ‘: å—¨                   â”‚â”‚
â”‚  â”‚ å¥¹: åœ¨å¹¹å˜›               â”‚â”‚
â”‚  â”‚ æˆ‘: å·¥ä½œä¸­ï¼Œå¦³å‘¢         â”‚â”‚
â”‚  â”‚ å¥¹: é€±æœ«æœ‰ä»€éº¼è¨ˆç•«å—ï¼Ÿ   â”‚â”‚
â”‚  â”‚ ...                      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â„¹ï¸ æ ¼å¼ï¼šæ¯è¡Œä¸€å‰‡è¨Šæ¯       â”‚
â”‚     ä»¥ã€Œå¥¹:ã€æˆ–ã€Œæˆ‘:ã€é–‹é ­   â”‚
â”‚                             â”‚
â”‚         [ é–‹å§‹åˆ†æ ]         â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç•«é¢ 5: è¨­å®š (Settings)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨­å®š                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  å¸³æˆ¶                        â”‚
â”‚  â”œâ”€ è¨‚é–±æ–¹æ¡ˆ     Essential âœ“ â”‚
â”‚  â”œâ”€ æœ¬æœˆç”¨é‡     47/200     â”‚
â”‚  â””â”€ å¸³è™Ÿ         user@...   â”‚
â”‚                             â”‚
â”‚  åå¥½è¨­å®š                    â”‚
â”‚  â”œâ”€ èªè¨€         ç¹é«”ä¸­æ–‡   â”‚
â”‚  â”œâ”€ æ·±è‰²æ¨¡å¼     é–‹å•Ÿ       â”‚
â”‚  â””â”€ é€šçŸ¥         é—œé–‰       â”‚
â”‚                             â”‚
â”‚  éš±ç§èˆ‡å®‰å…¨                  â”‚
â”‚  â”œâ”€ æ¸…é™¤æ‰€æœ‰å°è©±è³‡æ–™         â”‚
â”‚  â”œâ”€ åŒ¯å‡ºæˆ‘çš„è³‡æ–™             â”‚
â”‚  â””â”€ éš±ç§æ¬Šæ”¿ç­–               â”‚
â”‚                             â”‚
â”‚  é—œæ–¼                        â”‚
â”‚  â”œâ”€ ç‰ˆæœ¬         1.0.0      â”‚
â”‚  â”œâ”€ ä½¿ç”¨æ¢æ¬¾                 â”‚
â”‚  â””â”€ æ„è¦‹å›é¥‹                 â”‚
â”‚                             â”‚
â”‚        [ ç™»å‡º ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å°è©±è¨˜æ†¶ UX è¨­è¨ˆ

#### æ ¸å¿ƒæ¦‚å¿µï¼šä¸€äººä¸€å°è©± (æ°¸ä¹…æŒçºŒ)

```
ç”¨æˆ¶è¦–è§’ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  èˆ‡å°ç¾çš„å°è©±                    [...]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“Š ç¬¬ 23 è¼ª ï½œ èªè­˜ 14 å¤©              â”‚
â”‚  ğŸ”¥ ç†±åº¦è¶¨å‹¢ï¼šç©©å®šä¸Šå‡ (45â†’72)          â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ å¥¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å“‡å¥èº«ï¼ä½ ç·´å¤šä¹…äº†ï¼Ÿ              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  ğŸ’¡ å»ºè­°å›è¦†                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”„ å»¶å±•ï¼šä¸‰å€‹æœˆäº†ï¼Œè¶Šç·´è¶Šä¸Šç™®...  â”‚  â”‚
â”‚  â”‚ ğŸ’¬ å…±é³´ï¼šä½ ä¹Ÿæœ‰é‹å‹•ç¿’æ…£å—ï¼Ÿ       â”‚  â”‚
â”‚  â”‚ ğŸ˜ èª¿æƒ…ï¼šç·´åˆ°å¯ä»¥å–®æ‰‹æŠ±ä½ ...      â”‚  â”‚
â”‚  â”‚ ğŸ­ å¹½é»˜ï¼šç·´åˆ°å¯ä»¥åƒåŠ å¥§é‹äº†       â”‚  â”‚
â”‚  â”‚ ğŸ”® å†·è®€ï¼šæ„Ÿè¦ºä½ ä¹Ÿæ˜¯é‹å‹•å‹çš„äººï¼Ÿ   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  ğŸ“ è²¼ä¸Šå¥¹çš„æ–°å›è¦†...                   â”‚
â”‚  [åˆ†æ] â† æ¶ˆè€— 1 å‰‡è¨Šæ¯é¡åº¦             â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è¨˜æ†¶ç­–ç•¥ (ç”¨æˆ¶ç„¡æ„Ÿ)

```
æŠ€è¡“å¯¦ä½œï¼š
â”œâ”€ æœ€è¿‘ 15 è¼ªï¼šå®Œæ•´ä¿ç•™
â”œâ”€ æ›´æ—©çš„è¼ªæ¬¡ï¼šè‡ªå‹•æ‘˜è¦
â””â”€ ç”¨æˆ¶æ„ŸçŸ¥ï¼šå°è©±ä¸€ç›´é€£è²«ï¼Œç„¡ä¸­æ–·

æ‘˜è¦ç¯„ä¾‹ (ç³»çµ±å…§éƒ¨ï¼Œç”¨æˆ¶çœ‹ä¸åˆ°)ï¼š
ã€Œç¬¬ 1-15 è¼ªæ‘˜è¦ï¼š
- èªè­˜ç®¡é“ï¼šäº¤å‹è»Ÿé«”
- å…±åŒèˆˆè¶£ï¼šå¥èº«ã€å’–å•¡
- ç†±åº¦è®ŠåŒ–ï¼š40â†’55â†’65
- é—œä¿‚é€²å±•ï¼šå·²ç´„éä¸€æ¬¡å’–å•¡
- å¥¹çš„ç‰¹å¾µï¼šå›è¦†å¿«ã€æ„›ç”¨è¡¨æƒ…ç¬¦è™Ÿã€
```

#### æ™ºèƒ½æ¨æ¸¬ç”¨æˆ¶é¸æ“‡

```
90% æƒ…æ³ï¼šAI å¾å°æ–¹å›è¦†åæ¨ç”¨æˆ¶èªªäº†ä»€éº¼
ä¾‹ï¼šå°æ–¹èªªã€Œå“‡å¥èº«ï¼ã€â†’ æ¨æ¸¬ç”¨æˆ¶é¸äº†å¥èº«ç›¸é—œå»ºè­°

10% æƒ…æ³ï¼šæ¨æ¸¬ä¸å‡ºä¾†æ™‚è¼•é‡ç¢ºèª
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤” å¿«é€Ÿç¢ºèª (å¯è·³é)                   â”‚
â”‚                                         â”‚
â”‚  å°æ–¹å›è¦†å¥½åƒè·Ÿæˆ‘çš„å»ºè­°ä¸å¤ªç›¸é—œï¼Œ       â”‚
â”‚  ä½ å¯¦éš›å›è¦†äº†ä»€éº¼å‘¢ï¼Ÿ                   â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ è¼¸å…¥ä½ çš„å¯¦éš›å›è¦†ï¼ˆå¯é¸ï¼‰          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  [è·³é]              [ç¢ºèª]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å°å­˜èˆ‡æ–°å°è©± (ç‰¹æ®Šæƒ…æ³)

```
é»æ“Š [...] é¸å–®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š æŸ¥çœ‹ç†±åº¦æ­·å²     â”‚
â”‚ ğŸ“ ç·¨è¼¯å°è±¡è³‡è¨Š     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ“¦ å°å­˜ä¸¦é–‹æ–°å°è©±   â”‚  â† ç‰¹æ®Šæƒ…æ³æ‰ç”¨
â”‚ ğŸ—‘ï¸ åˆªé™¤æ­¤å°è©±       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨æ™‚æ©Ÿï¼š
- é—œä¿‚é‡æ–°é–‹å§‹ (åˆ†æ‰‹å¾Œå¾©åˆ)
- å¾ˆä¹…æ²’èŠï¼Œæƒ³é‡æ–°ä¾†é
```

### 5.3 è¨­è¨ˆç³»çµ±

#### è‰²å½©ç³»çµ±
```dart
class AppColors {
  // ä¸»è‰²èª¿ - æ·±ç´« (å°ˆæ¥­ã€ç¥ç§˜)
  static const primary = Color(0xFF6B4EE6);
  static const primaryLight = Color(0xFF9D8DF7);
  static const primaryDark = Color(0xFF4527A0);

  // ç†±åº¦ç­‰ç´šè‰²å½©
  static const cold = Color(0xFF64B5F6);      // è—
  static const warm = Color(0xFFFFD54F);      // é»ƒ
  static const hot = Color(0xFFFF8A65);       // æ©˜
  static const veryHot = Color(0xFFFF6B9D);   // ç²‰ç´…

  // ä¸­æ€§è‰²
  static const background = Color(0xFF121212);
  static const surface = Color(0xFF1E1E1E);
  static const textPrimary = Color(0xFFFFFFFF);
  static const textSecondary = Color(0xFFB3B3B3);
}
```

#### å­—å‹ç³»çµ±
```dart
class AppTypography {
  static const headlineLarge = TextStyle(
    fontSize: 28,
    fontWeight: FontWeight.bold,
  );

  static const bodyLarge = TextStyle(
    fontSize: 16,
    height: 1.5,
  );

  static const caption = TextStyle(
    fontSize: 12,
    color: AppColors.textSecondary,
  );
}
```

---

## 6. å®‰å…¨èˆ‡åˆè¦ (Security & Compliance)

### 6.1 App Store å¯©æ ¸ç­–ç•¥

#### å®šä½èªªæ˜
- **App Store åˆ†é¡**: Social Networking / Lifestyle
- **æ‡‰ç”¨æè¿°**: ç¤¾äº¤æºé€šæŠ€å·§æ•™ç·´ï¼Œå¹«åŠ©ç”¨æˆ¶æå‡å°è©±å“è³ª
- **é¿å…ç”¨è©**: æŠŠå¦¹ã€æ­è¨•ã€ç´„æœƒã€æˆ€æ„›æŠ€å·§
- **æ¡ç”¨ç”¨è©**: ç¤¾äº¤æŠ€å·§ã€æºé€šèƒ½åŠ›ã€äººéš›é—œä¿‚ã€å°è©±å“è³ª

#### é—œéµåˆè¦é»
1. âœ… ä¸å­˜å„²ä»–äººå°è©±æ–¼ä¼ºæœå™¨
2. âœ… ç”¨æˆ¶å®Œå…¨æ§åˆ¶æœ¬åœ°è³‡æ–™
3. âœ… æä¾›è³‡æ–™åˆªé™¤åŠŸèƒ½
4. âœ… è¨‚é–±åƒ¹æ ¼é€æ˜
5. âœ… ä¸ä½¿ç”¨ã€Œæ“æ§ã€ç›¸é—œç”¨èª

### 6.2 éš±ç§ä¿è­·

```dart
class PrivacyManager {
  /// æœ¬åœ°åŠ å¯†é‡‘é‘° (ç”± Hive è‡ªå‹•ç®¡ç†)
  static const encryptionCipher = HiveAesCipher(key);

  /// è³‡æ–™ä¿ç•™æ”¿ç­–
  static const dataRetentionDays = 90; // 90å¤©æœªä½¿ç”¨è‡ªå‹•æ¸…ç†

  /// åŒ¯å‡ºç”¨æˆ¶è³‡æ–™ (GDPR åˆè¦)
  Future<File> exportUserData() async {
    final conversations = await getLocalConversations();
    final json = jsonEncode(conversations);
    return saveToFile(json);
  }

  /// å®Œå…¨åˆªé™¤æ‰€æœ‰è³‡æ–™
  Future<void> deleteAllData() async {
    await Hive.deleteBoxFromDisk('conversations');
    await Hive.deleteBoxFromDisk('settings');
    await supabase.auth.signOut();
  }
}
```

### 6.3 API å®‰å…¨

```typescript
// Edge Function å®‰å…¨æª¢æŸ¥
async function validateRequest(req: Request) {
  // 1. é©—è­‰ JWT
  const token = req.headers.get('Authorization');
  const { user, error } = await supabase.auth.getUser(token);
  if (error) throw new UnauthorizedError();

  // 2. æª¢æŸ¥è¨‚é–±ç‹€æ…‹
  const { data: sub } = await supabase
    .from('subscriptions')
    .select('tier, monthly_analyses_used')
    .eq('user_id', user.id)
    .single();

  // 3. æª¢æŸ¥ç”¨é‡é™åˆ¶
  const limit = TIER_LIMITS[sub.tier];
  if (sub.monthly_analyses_used >= limit) {
    throw new QuotaExceededError();
  }

  // 4. Rate limiting (IP + User)
  await checkRateLimit(user.id, req.ip);
}
```

---

## 7. è¨‚é–±ç­–ç•¥ (Subscription Strategy)

### 7.1 å®šåƒ¹æ–¹æ¡ˆ (è¨Šæ¯åˆ¶) âœ… æœ€çµ‚ç‰ˆ

> **è¨ˆè²»é‚è¼¯ï¼š1 å‰‡è¨Šæ¯ = 1 è¨Šæ¯é¡åº¦**
> **ç­–ç•¥ï¼šåˆç†å®šåƒ¹ï¼Œå‰æœŸ 6-14 ä»˜è²»ç”¨æˆ¶å³å¯æ‰“å¹³**
> **ç°¡åŒ–ç‚º 2 å€‹ä»˜è²»æ–¹æ¡ˆï¼Œå°ˆæ³¨å€‹äººç”¨æˆ¶**

| æ–¹æ¡ˆ | æœˆè²» | USD | è¨Šæ¯/æœˆ | æ¯æ—¥ä¸Šé™ |
|------|------|-----|---------|----------|
| **Free** | NT$0 | $0 | 30 | 15 |
| **Starter** | NT$149 | ~$5 | 300 | 50 |
| **Essential** | NT$349 | ~$11 | 1,000 | 150 |

### 7.2 åŠŸèƒ½å°ç…§è¡¨

| åŠŸèƒ½ | Free | Starter | Essential |
|------|------|---------|-----------|
| **é¡åº¦** | | | |
| è¨Šæ¯é¡åº¦/æœˆ | 30 | 300 | 1,000 |
| æ¯æ—¥ä¸Šé™ | 15 | 50 | 150 |
| å°è©±æ•¸é‡ | 3 | 15 | 50 |
| **åˆ†æåŠŸèƒ½** | | | |
| ç†±åº¦åˆ†æ | âœ“ | âœ“ | âœ“ |
| è©±é¡Œæ·±åº¦åˆ†æ | âœ— | âœ“ | âœ“ |
| å°è©±å¥æª¢ | âœ— | âœ— | âœ“ |
| Needy è­¦ç¤º | âœ— | âœ“ | âœ“ |
| **å›è¦†å»ºè­°** | | | |
| ğŸ”„ å»¶å±•å›è¦† | âœ“ | âœ“ | âœ“ |
| ğŸ’¬ å…±é³´å›è¦† | âœ— | âœ“ | âœ“ |
| ğŸ˜ èª¿æƒ…å›è¦† | âœ— | âœ“ | âœ“ |
| ğŸ­ å¹½é»˜å›è¦† | âœ— | âœ“ | âœ“ |
| ğŸ”® å†·è®€å›è¦† | âœ— | âœ“ | âœ“ |
| **å…¶ä»–** | | | |
| å°è©±è¨˜æ†¶ | 5 è¼ª | 15 è¼ª | 15 è¼ª + æ‘˜è¦ |
| AI æ¨¡å‹ | Haiku | æ··åˆ | Sonnet å„ªå…ˆ |
| å…è²»è©¦ç”¨ | - | 7å¤© | 7å¤© |

### 7.3 æˆæœ¬èˆ‡æç›Š

| æ–¹æ¡ˆ | æœˆè²» | æˆ‘å€‘æˆæœ¬ | æ¯›åˆ©ç‡ |
|------|------|----------|--------|
| Starter | NT$149 | ~NT$10 | 94% |
| Essential | NT$349 | ~NT$32 | 91% |

**å‰æœŸæç›Šå¹³è¡¡ï¼š6-14 å€‹ä»˜è²»ç”¨æˆ¶**

### 7.4 åŠ è³¼è¨Šæ¯åŒ…

| è¨Šæ¯åŒ… | åƒ¹æ ¼ | æ¯å‰‡æˆæœ¬ |
|--------|------|----------|
| 50 å‰‡ | NT$39 | NT$0.78 |
| 150 å‰‡ | NT$99 | NT$0.66 |
| 300 å‰‡ | NT$179 | NT$0.60 |

### 7.5 å…è²»è©¦ç”¨
- æ‰€æœ‰ä»˜è²»æ–¹æ¡ˆäº« **7 å¤©å…è²»è©¦ç”¨**
- è©¦ç”¨æœŸé–“å¯éš¨æ™‚å–æ¶ˆ
- è©¦ç”¨çµæŸè‡ªå‹•æ‰£æ¬¾

### 7.6 å®¢æœç®¡é“
- ğŸ“§ Email: support@vibesync.app
- ğŸ’¬ LINE å®˜æ–¹å¸³è™Ÿ: @vibesync
- ğŸ“ App å…§å›é¥‹è¡¨å–®

### 7.7 é¦–ç™¼å¸‚å ´
- å°ç£å„ªå…ˆ (ç¹é«”ä¸­æ–‡)

### 7.8 RevenueCat æ•´åˆ

```dart
class SubscriptionService {
  final _purchases = Purchases.instance;

  Future<void> initialize() async {
    await Purchases.setLogLevel(LogLevel.debug);

    PurchasesConfiguration config = PurchasesConfiguration(
      Platform.isIOS
        ? 'appl_xxxxxxxx'  // App Store key
        : 'goog_xxxxxxxx', // Play Store key
    );

    await Purchases.configure(config);
  }

  Future<SubscriptionTier> getCurrentTier() async {
    final customerInfo = await _purchases.getCustomerInfo();

    if (customerInfo.entitlements.active.containsKey('essential')) {
      return SubscriptionTier.essential;
    } else if (customerInfo.entitlements.active.containsKey('starter')) {
      return SubscriptionTier.starter;
    }
    return SubscriptionTier.free;
  }

  Future<void> purchaseStarter() async {
    final offerings = await _purchases.getOfferings();
    final package = offerings.current?.getPackage('starter_monthly');
    if (package != null) {
      await _purchases.purchasePackage(package);
    }
  }

  Future<void> purchaseEssential() async {
    final offerings = await _purchases.getOfferings();
    final package = offerings.current?.getPackage('essential_monthly');
    if (package != null) {
      await _purchases.purchasePackage(package);
    }
  }
}
```

---

## 8. æŠ€è¡“å †ç–Šæ‘˜è¦ & MVP ç¯„åœ

### 8.1 æŠ€è¡“å †ç–Šç¸½è¦½

| å±¤ç´š | æŠ€è¡“ | ç”¨é€” |
|------|------|------|
| **Frontend** | Flutter 3.x | è·¨å¹³å° UI |
| | Riverpod | ç‹€æ…‹ç®¡ç† |
| | Hive | æœ¬åœ°åŠ å¯†å„²å­˜ |
| | go_router | è·¯ç”±ç®¡ç† |
| **Backend** | Supabase | BaaS å¹³å° |
| | PostgreSQL | ç”¨æˆ¶/è¨‚é–±è³‡æ–™ |
| | Edge Functions | Serverless API |
| **AI** | Claude API | Haiku + Sonnet |
| **Payment** | RevenueCat | è¨‚é–±ç®¡ç† |
| **Monitoring** | Sentry | éŒ¯èª¤è¿½è¹¤ |

### 8.2 MVP åŠŸèƒ½ç¯„åœ

#### åŒ…å« âœ…
1. ç”¨æˆ¶è¨»å†Š/ç™»å…¥ (Googleã€Appleã€Email OTP)
2. å°è©±è¤‡è£½è²¼ä¸Šè¼¸å…¥ + æƒ…å¢ƒè¨­å®šï¼ˆèªè­˜å ´æ™¯/å¤šä¹…/ç›®æ¨™ï¼‰
3. ç†±åº¦åˆ†æ (0-100 + å››ç­‰ç´š)
4. GAME éšæ®µåˆ¤æ–·ï¼ˆæ‰“é–‹â†’å‰æâ†’è©•ä¼°â†’æ•˜äº‹â†’æ”¶å°¾ï¼‰
5. **äº”ç¨®å›è¦†å»ºè­°** (å»¶å±•/å…±é³´/èª¿æƒ…/å¹½é»˜/å†·è®€)
6. **AI æœ€çµ‚å»ºè­° + ç†ç”± + å¿ƒç†å­¸åˆ†æ**
7. 1.8x é»ƒé‡‘æ³•å‰‡å­—æ•¸é™åˆ¶
8. Needy è¡Œç‚ºè­¦ç¤º
9. å»¢ç‰©æ¸¬è©¦åµæ¸¬ + æ·ºæºé€šè§£è®€
10. æœ¬åœ°åŠ å¯†å„²å­˜å°è©±
11. ä¸‰ç´šè¨‚é–± (Free/Starter/Essential)
12. é«˜ç«¯æ¥µç°¡æ·±è‰²æ¨¡å¼ UI
13. **ä¸€äººä¸€å°è©± Session è¨­è¨ˆ**
14. å°è©±è¨˜æ†¶ï¼ˆ15 è¼ª + è‡ªå‹•æ‘˜è¦ï¼‰
15. **å†°é»æ”¾æ£„å»ºè­°**ï¼ˆæ©Ÿæœƒæ¸ºèŒ«æ™‚å»ºè­°é–‹æ–°å°è©±ï¼‰
16. **çœŸäººä¸€è‡´æ€§æé†’**ï¼ˆè¦‹é¢æ‰è‡ªç„¶ï¼‰

#### ä¸åŒ…å« (V2) âŒ
- Keyboard Extension
- Share Extension
- **åœ–ç‰‡ä¸Šå‚³åˆ†æ**ï¼ˆäº¤å‹è»Ÿé«”å€‹äººæª”æ¡ˆç…§ç ´å†°ç”¨ï¼‰
- **TTS èªéŸ³æœ—è®€**ï¼ˆé»æ“Šå¿µå‡ºå»ºè­°å›è¦†ï¼‰
- å¤šèªè¨€æ”¯æ´
- ç¤¾ç¾¤åŠŸèƒ½
- AI å€‹æ€§åŒ–èª¿æ•´

### 8.3 å°ˆæ¡ˆçµæ§‹

```
vibesync/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ app.dart
â”‚   â”‚   â””â”€â”€ routes.dart
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ extensions/
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”‚   â”œâ”€â”€ conversation/
â”‚   â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”‚   â””â”€â”€ subscription/
â”‚   â”‚       â”œâ”€â”€ data/
â”‚   â”‚       â”œâ”€â”€ domain/
â”‚   â”‚       â””â”€â”€ presentation/
â”‚   â””â”€â”€ shared/
â”‚       â””â”€â”€ widgets/
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â”œâ”€â”€ analyze-chat/
â”‚   â”‚   â””â”€â”€ generate-reply/
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ test/
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ plans/
â”œâ”€â”€ pubspec.yaml
â”œâ”€â”€ CLAUDE.md
â””â”€â”€ README.md
```

---

## é™„éŒ„ A: GAME æ¡†æ¶å®Œæ•´æ•´åˆ

> åŸºæ–¼å°ˆæ¥­ç¤¾äº¤æ•™ç·´ Know-Howï¼Œä»¥ä¸‹æ¦‚å¿µå®Œæ•´æ•´åˆè‡³ AI æç¤º

### A.1 GAME äº”éšæ®µ

| éšæ®µ | è‹±æ–‡ | ç›®æ¨™ | AI åˆ¤æ–·ä¾æ“š |
|------|------|------|-------------|
| æ‰“é–‹ | Opening | ç ´å†° | å°è©±å‰›é–‹å§‹ï¼ŒåŸºæœ¬å¯’æš„ |
| å‰æ | Premise | é€²å…¥ç”·å¥³æ¡†æ¶ | æ˜¯å¦æœ‰å¼µåŠ›ï¼Œé‚„æ˜¯ç´”é–’èŠ |
| è©•ä¼° | Qualification | å¥¹è­‰æ˜è‡ªå·± | å¥¹æœ‰æ²’æœ‰åœ¨å±•ç¤ºè‡ªå·±çš„å„ªé» |
| æ•˜äº‹ | Narrative | å€‹æ€§æ¨£æœ¬ | ç”¨æˆ¶æ˜¯å¦åœ¨èªªæ•…äº‹/åˆ†äº« |
| æ”¶å°¾ | Close | ç¢ºç«‹é‚€ç´„ | ç†±åº¦ç©©å®šï¼Œå¯ä»¥ç´„äº† |

### A.2 æ ¸å¿ƒæŠ€å·§

| æŠ€å·§ | èªªæ˜ | AI æ‡‰ç”¨ |
|------|------|---------|
| **éš±æ€§ DHV** | ä¸€å¥è©±å¸¶éåƒ¹å€¼ï¼Œä¸è§£é‡‹ | å»ºè­°å›è¦†æ™‚ç¤ºç¯„ |
| **æ¡†æ¶æ§åˆ¶** | ä¸å› æ”»æ“Š/å»¢æ¸¬æ”¹è®Š | åµæ¸¬å»¢æ¸¬ï¼Œå»ºè­°å½ˆé–‹ |
| **æ©¡è† çƒç†è«–** | å»¢æ¸¬è®“å®ƒå½ˆé–‹ | å¹½é»˜/å¿½ç•¥å›æ‡‰ |
| **æ·ºæºé€šè§£è®€** | è®€æ‡‚æ–‡å­—èƒŒå¾Œæ„æ€ | å¿ƒç†åˆ†æè¼¸å‡º |
| **è©•ä¼°æ¬Šåè½‰** | ä½ åœ¨ç¯©é¸å¥¹ | åµæ¸¬å¥¹æ˜¯å¦åœ¨è­‰æ˜è‡ªå·± |
| **é™³è¿°å„ªæ–¼å•å¥** | æ›´è‡ªç„¶ | å›è¦†å»ºè­°å¤šç”¨é™³è¿° |

### A.3 è­¦ç¤ºç³»çµ±

| è­¦ç¤º | è§¸ç™¼æ¢ä»¶ | å»ºè­° |
|------|----------|------|
| **Needy** | é€£ç™¼è¨Šæ¯/éåº¦è§£é‡‹/ç§’å› | æ”¶æ–‚ï¼Œä¸è¦å¤ªæ€¥ |
| **é¢è©¦æ„Ÿ** | é€£å• 3+ å•é¡Œ | ç”¨å‡è¨­ä»£æ›¿å•å¥ |
| **æœ‹å‹æ¡†** | å¤ªé–’èŠï¼Œæ²’å¼µåŠ› | è©²é€²å…¥ç”·å¥³å‰æ |
| **æ·±åº¦è¶Šç´š** | é—œä¿‚ä¸ç†Ÿå°±èŠæ›–æ˜§ | é€€å›ä¸Šä¸€å±¤ |
| **å†°é»æ”¾æ£„** | ç†±åº¦ <30 ä¸”æ²’å›æ‡‰ | å»ºè­°é–‹æ–°å°è©± |

### A.4 é‚€ç´„åˆ¤æ–·

```
å¯ä»¥é‚€ç´„çš„ä¿¡è™Ÿï¼š
â”œâ”€ ç†±åº¦ç©©å®š 60+
â”œâ”€ å¥¹æœ‰åœ¨ã€Œè­‰æ˜è‡ªå·±ã€
â”œâ”€ å°è©±æœ‰ä¾†æœ‰å¾€
â”œâ”€ æœ‰ç”·å¥³å¼µåŠ›
â””â”€ å¥¹å°ä½ è¡¨ç¾å¥½å¥‡

é‚€ç´„æ–¹å¼ï¼š
â”œâ”€ æ¨¡ç³Šé‚€ç´„ï¼šã€Œæ”¹å¤©ä¸€èµ·å–å’–å•¡ã€
â””â”€ ç¢ºç«‹é‚€ç´„ï¼šã€Œé€±å…­ä¸‹åˆï¼Œä¿¡ç¾©å€é‚£é–“ï¼Ÿã€

å¸¸è¦‹éŒ¯èª¤ï¼š
â””â”€ åˆ°æœ€å¾Œä¸€æ­¥æ‰­æ‰­ææ â†’ ç›´æ¥æ•²å®š
```

---

## é™„éŒ„ B: å¾…è£œé …ç›®

| é …ç›® | ç‹€æ…‹ | èªªæ˜ |
|------|------|------|
| **ä¸è² è²¬ä»»è²æ˜** | â³ å¾…è£œ | ç”¨æˆ¶æœƒæä¾›æ–‡å­— |

---

## è®Šæ›´è¨˜éŒ„

| æ—¥æœŸ | ç‰ˆæœ¬ | è®Šæ›´å…§å®¹ |
|------|------|----------|
| 2026-02-26 | 1.0 | åˆå§‹è¨­è¨ˆå®Œæˆ |
| 2026-02-27 | 1.1 | æ–°å¢ GAME æ¡†æ¶ã€æ›´æ–° AI è¼¸å‡ºæ ¼å¼ã€Session è¨­è¨ˆã€UI é¢¨æ ¼ã€ä¸€è‡´æ€§ä¿®æ­£ |

---

**æ–‡ä»¶çµæŸ**
